
<!doctype html>
<title>term.js</title>
<!--
  term.js
  Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
-->
<style>
  html {
    background: #555;
  }

  h1 {
    margin-bottom: 20px;
    font: 20px/1.5 sans-serif;
  }

/*
  .terminal {
    float: left;
    border: #000 solid 5px;
    font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;
    font-size: 11px;
    color: #f0f0f0;
    background: #000;
  }

  .terminal-cursor {
    color: #000;
    background: #f0f0f0;
  }
*/
</style>
<h1>term.js</h1>
<script src="include/base64.js"></script>
<script src="include/util.js"></script>
<script src="include/websock.js"></script>
<script src="include/webutil.js"></script> 
<script src="include/keysym.js"></script> 
<script src="term.js"></script>
<script>
;(function() {
  window.onload = function() {

    var term, term, sQ = [];

    ws = new Websock();
    ws.on('open', function(e) {
      term = new Terminal({
        cols: 120,
        rows: 50,
        useStyle: true,
        screenKeys: true,
        cursorBlink: false
      });

      term.on('data', function(data) {
          var tosend = [];
          for(var i = 0; i < data.length; i++) {
            tosend.push(data.charCodeAt(i));
          }
          ws.send(tosend);
      });

      term.on('title', function(title) {
        document.title = title;
      });

      term.open(document.body);

      term.write('\x1b[31mWelcome to term.js!\x1b[m\r\n');
    });

    ws.on('close', function(e) {
        term.destroy();
    });
    ws.on('error', function(e) {
        term.destroy();
    });

    ws.on('message', function(e) {
        var arr = ws.rQshiftStr();
        term.write(arr);
    });

    uri = "ws://10.1.1.98:8008/10-1-1-1-23";
    ws.open(uri, "binary");

  };
}).call(this);
</script>
